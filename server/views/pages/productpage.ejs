<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cheapo - login</title>
    <!-- css -->
    <% include ../partials/stylesheet %>
</head>

<body>
    <!-- header -->
    <% include ../partials/header %>
        <div class="container" style="display: flex;">
            <div style="margin:auto;height: 700px;width: 100%;border-radius: 10px;">
                <div style="height: 100%;width: 50%;float: left;">
                    <div style="height: 55%;width: 100%;display: flex;">
                        <img src="/imghere/<%= item.itemPic %>" style="margin: auto;height: 100%;width: 100%;" alt="ProductImg">
                    </div>
                    <div style="height: 45%;width: 100%;">
                        <div style="height: 75%;width: 100%;background-color: rgb(255, 103, 2);overflow-y: auto">                            
                            <% if (review.length > 0) { %>
                                <% review.forEach(function(review){ %>
                                    <div style="height: 25%;width: 100%;border: 1px solid grey;display: flex">
                                        <h2 style="margin: auto;"><%= review.itemReview %> </h2>
                                    </div>
                                    <% }); } else { %>
                                        no review, make one!
                            <% } %>                            
                        </div>
                        <div style="height: 25%;width: 100%;background-color: bisque">
                            <div style="height: 100%;width: 50%;float: left;display: flex">
                                <button class="btn btn-warning" onclick="document.getElementById('reportForm').style.display='block'" style="margin:auto;height: 50%;width: 50%">Report</button>
                            </div>
                            <div id="reportForm" style="overflow: hidden;">
                                <form id="dReport" action="/reports/add/<%= item.itemID %>" method="POST" style="border-radius: 15px;overflow: hidden;">
                                    <div style="height: 25%;width: 100%;background-color: azure">
                                        <div style="height: 100%;width: 40%;display: flex;float: left;">
                                            <h2 style="margin: auto">Reasons</h2>
                                        </div>
                                        <div style="height: 100%;width: 60%;display: flex;float: left;">
                                            <select style="margin: auto;width: 80%;" name="reasons" class="form-control" required>
                                                <option value="Copyright">Copyright infringement</option>
                                                <option value="Counterfeit item">Counterfeit item</option>
                                                <option value="Obscenity">Obscenity</option>
                                                <option value="Unauthorized image">Unauthorized image use</option>
                                                <option value="False Hype">False hype</option>
                                                <option value="others">Others</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div style="height: 55%;width: 100%;background-color: azure">
                                        <div style="height: 100%;width: 40%;display: flex;float: left;">
                                            <h2 style="margin: auto">Details</h2>
                                        </div>
                                        <div style="height: 100%;width: 60%;display: flex;float: left;">
                                            <textarea name="details" style="margin: auto;border-radius: 5px;resize: none" cols="35" rows="5" required></textarea>
                                        </div>
                                    </div>
                                    <div style="height: 20%;width: 100%;background-color: azure">
                                        <div style="height: 100%;width: 50%;float: left;display: flex">
                                            <button style="margin: auto" class="btn btn-danger" onclick="document.getElementById('reportForm').style.display='none'"
                                                type="button">Cancel</button>
                                        </div>
                                        <div style="height: 100%;width: 50%;float: left;display: flex">
                                            <button style="margin: auto" class="btn btn-success" type="submit">Submit</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div style="height: 100%;width: 50%;float: right;display: flex">
                                <button type="button" onclick="document.getElementById('reviewForm').style.display='block'" style="margin:auto;height: 50%;width: 50%"
                                    class="btn btn-primary">Add Review</button>
                            </div>
                            <div id="reviewForm" style="overflow: hidden;">
                                <form id="dReview" action="/reviews/add/<%= item.itemID %>" method="POST" style="border-radius: 15px;overflow: hidden;">                                    
                                    <div style="height: 65%;width: 100%;background-color: azure">
                                        <div style="height: 100%;width: 40%;display: flex;float: left;">
                                            <h2 style="margin: auto">Details</h2>
                                        </div>
                                        <div style="height: 100%;width: 60%;display: flex;float: left;">
                                            <textarea name="details" style="margin: auto;border-radius: 5px;resize: none" cols="35" rows="5" required></textarea>
                                        </div>
                                    </div>
                                    <div style="height: 35%;width: 100%;background-color: azure">
                                        <div style="height: 100%;width: 50%;float: left;display: flex">
                                            <button style="margin: auto" class="btn btn-danger" onclick="document.getElementById('reviewForm').style.display='none'"
                                                type="button">Cancel</button>
                                        </div>
                                        <div style="height: 100%;width: 50%;float: left;display: flex">
                                            <button style="margin: auto" class="btn btn-success" type="submit">Submit</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="height: 100%;width:50%;float: left;">
                    <div style="height: 20%;width: 100%;display: flex;">
                        <h1 style="margin:auto;">
                            <%= item.name %>(name)</h1>
                    </div>
                    <div style="height: 20%;width: 100%;display:flex;">
                        <h1 style="margin: auto">$
                            <%= item.price %>(price)</h1>
                    </div>
                    <div style="height: 35%;width: 100%;display:flex;">
                        <h1 style="margin: auto">
                            <%= item.detail %>(details)
                        </h1>
                    </div>
                    <div style="height: 25%;width: 100%;background-color: aquamarine">
                        <div style="height: 50%;width: 100%;display: flex">
                            <div style="margin:auto;height: 50%;width: 50%" class="btn btn-primary">Buy</div>
                        </div>
                        <div style="height: 50%;width: 100%;display: flex">
                            <div style="margin:auto;height: 50%;width: 50%" class="btn btn-primary">Add to wish list</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <% include ../partials/footer %>
            <!-- jQuery Plugins -->
            <% include ../partials/javascript %>
                <script>                    
                    var reportForm = document.getElementById('reportForm');
                    var reviewForm = document.getElementById('reviewForm');
                    window.onclick = function (event) {
                        if (event.target == reviewForm || event.target == reportForm) {
                            reviewForm.style.display = "none";
                            reportForm.style.display = "none";
                        }
                    }
                </script>
</body>

</html>